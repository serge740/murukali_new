<!DOCTYPE html>
<html lang="en">
<%- include('./partials/head.ejs') %>

    <body>
        <%- include('./partials/nav.ejs') %>

            <div class="activity-page">
                <!-- Display the success message if it exists -->
                <% if (typeof message !=='undefined' ) { %>
                    <div id="message" class="message">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 26 26">
                            <path
                                d="M22.566406 4.730469L20.773438 3.511719C20.277344 3.175781 19.597656 3.304688 19.265625 3.796875L10.476563 16.757813L6.4375 12.71875C6.015625 12.296875 5.328125 12.296875 4.90625 12.71875L3.371094 14.253906C2.949219 14.675781 2.949219 15.363281 3.371094 15.789063L9.582031 22C9.929688 22.347656 10.476563 22.613281 10.96875 22.613281C11.460938 22.613281 11.957031 22.304688 12.277344 21.839844L22.855469 6.234375C23.191406 5.742188 23.0625 5.066406 22.566406 4.730469Z" />
                        </svg>
                        <p>
                            <%= message %>
                        </p>
                    </div>
                    <% } %>

                        <div class="activity-header">
                            <h1>
                                <%= activity.act_name %>
                            </h1>
                            <p>
                                <%= activity.act_description %>
                            </p>
                        </div>

                        <% if (activity.isTable) { %>

                            <div class="create-linkz">
                                <a href="/create-column/<%= tablez.tablez_id %>" class="create-table-link">

                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">
                                        <path
                                            d="M2.4824219 1.9824219C1.6598905 1.9824219 0.98242185 2.6598905 0.98242188 3.4824219L0.98242188 11.482422C0.98242188 12.304953 1.6598905 12.982422 2.4824219 12.982422L7.2714844 12.982422C7.8884307 14.732826 9.5425032 16 11.5 16C13.979359 16 16 13.979359 16 11.5C16 10.430435 15.609096 9.4589913 14.982422 8.6855469L14.982422 3.4824219C14.982422 2.6598905 14.304953 1.9824219 13.482422 1.9824219L2.4824219 1.9824219 z M2.4824219 2.9824219L13.482422 2.9824219C13.76389 2.9824219 13.982422 3.2009533 13.982422 3.4824219L13.982422 3.9824219L1.9824219 3.9824219L1.9824219 3.4824219C1.9824219 3.2009533 2.2009533 2.9824219 2.4824219 2.9824219 z M1.9824219 4.9824219L13.982422 4.9824219L13.982422 7.7519531C13.398407 7.3635984 12.713422 7.1284203 11.982422 7.0488281L11.982422 6.9824219L5.9824219 6.9824219L5.9824219 7.9824219L8.7285156 7.9824219C8.3647809 8.2698257 8.0341598 8.5979991 7.7734375 8.9824219L5.9824219 8.9824219L5.9824219 9.9824219L7.28125 9.9824219C7.1090013 10.458734 7 10.96537 7 11.5C7 11.66533 7.0313214 11.821634 7.0488281 11.982422L2.4824219 11.982422C2.2009533 11.982422 1.9824219 11.76389 1.9824219 11.482422L1.9824219 4.9824219 z M3.9824219 6.9824219L3.9824219 7.9824219L4.9824219 7.9824219L4.9824219 6.9824219L3.9824219 6.9824219 z M11.5 8C13.438919 8 15 9.5610811 15 11.5C15 13.438919 13.438919 15 11.5 15C9.5610811 15 8 13.438919 8 11.5C8 9.5610811 9.5610811 8 11.5 8 z M3.9824219 8.9824219L3.9824219 9.9824219L4.9824219 9.9824219L4.9824219 8.9824219L3.9824219 8.9824219 z M11 9L11 11L9 11L9 12L11 12L11 14L12 14L12 12L14 12L14 11L12 11L12 9L11 9 z" />
                                    </svg>
                                    add column
                                </a>
                                <% if (columnz.length) { %>

                                    <a href="/add-data/<%= tablez.act_id %>" class="create-table-link2">
                                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">
                                            <path
                                                d="M2.4824219 1.9824219C1.6598905 1.9824219 0.98242185 2.6598905 0.98242188 3.4824219L0.98242188 11.482422C0.98242188 12.304953 1.6598905 12.982422 2.4824219 12.982422L7.2714844 12.982422C7.8884307 14.732826 9.5425032 16 11.5 16C13.979359 16 16 13.979359 16 11.5C16 10.430435 15.609096 9.4589913 14.982422 8.6855469L14.982422 3.4824219C14.982422 2.6598905 14.304953 1.9824219 13.482422 1.9824219L2.4824219 1.9824219 z M2.4824219 2.9824219L13.482422 2.9824219C13.76389 2.9824219 13.982422 3.2009533 13.982422 3.4824219L13.982422 3.9824219L1.9824219 3.9824219L1.9824219 3.4824219C1.9824219 3.2009533 2.2009533 2.9824219 2.4824219 2.9824219 z M1.9824219 4.9824219L13.982422 4.9824219L13.982422 7.7519531C13.398407 7.3635984 12.713422 7.1284203 11.982422 7.0488281L11.982422 6.9824219L5.9824219 6.9824219L5.9824219 7.9824219L8.7285156 7.9824219C8.3647809 8.2698257 8.0341598 8.5979991 7.7734375 8.9824219L5.9824219 8.9824219L5.9824219 9.9824219L7.28125 9.9824219C7.1090013 10.458734 7 10.96537 7 11.5C7 11.66533 7.0313214 11.821634 7.0488281 11.982422L2.4824219 11.982422C2.2009533 11.982422 1.9824219 11.76389 1.9824219 11.482422L1.9824219 4.9824219 z M3.9824219 6.9824219L3.9824219 7.9824219L4.9824219 7.9824219L4.9824219 6.9824219L3.9824219 6.9824219 z M11.5 8C13.438919 8 15 9.5610811 15 11.5C15 13.438919 13.438919 15 11.5 15C9.5610811 15 8 13.438919 8 11.5C8 9.5610811 9.5610811 8 11.5 8 z M3.9824219 8.9824219L3.9824219 9.9824219L4.9824219 9.9824219L4.9824219 8.9824219L3.9824219 8.9824219 z M11 9L11 11L9 11L9 12L11 12L11 14L12 14L12 12L14 12L14 11L12 11L12 9L11 9 z" />
                                        </svg>
                                        Add Data
                                    </a>

                                    <% } %>
                            </div>

                            <% } else { %>
                                <a href="/create-table/<%= activity.act_id %>" class="create-table-link">
                                    create table
                                </a>
                                <% } %>

                                    <% if ( activity.isTable && columnz.length> 0) { %>
                                        
                                        <%- include('./partials/table.ejs') %>
                                            <% }  %>

                                            <% if (!Boolean(activity.isTable)) { %>
                                                <p>no table, so create one</p>
                                            <% } %>

                                                <% if (activity.isTable && columnz.length===0) { %>
                                                    <p>no column, so add some</p>
                                                    <% } %>
            </div>


            <script>
                var link2 = document.querySelector('.links-2')

                var menu2 = document.querySelector('.menu2')

                var nav2 = document.querySelector(".nav2")


                menu2.addEventListener('click', () => {
                    link2.classList.toggle('show-links-2')
                    nav2.classList.toggle('show-nav2')
                })


                document.addEventListener('DOMContentLoaded', function () {
                    const messageElement = document.getElementById('message');
                    if (messageElement) {
                        setTimeout(() => {
                            messageElement.style.opacity = 0;
                            setTimeout(() => {
                                messageElement.style.display = 'none';
                            }, 500); // Delay for the opacity transition
                        }, 2000); // Message visible for 2 seconds
                    }
                });
            </script>
    </body>

</html>